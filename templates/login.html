<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Login</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      body {
        font-family: "Segoe UI", Arial, sans-serif;
        background-color: black;
        margin: 0;
        padding: 0;
        -webkit-tap-highlight-color: transparent;
      }

      header {
        background-color: black;
        padding: 25px 50px;
        display: flex;
        align-items: center;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      }

      .logo {
        max-height: 50px;
        width: auto;
        height: auto;
        max-width: 100%;
        object-fit: contain;
      }

      .content-wrapper {
        display: flex;
        height: calc(100vh - 98px);
      }

      .login-side {
        width: 70%;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 30px;
      }

      .slider-side {
        width: 40%;
        overflow: hidden;
        position: relative;
      }

      .slider-side img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        animation: slide 20s infinite;
        position: absolute;
        top: 0;
        left: 0;
        opacity: 0;
        transition: opacity 1s;
      }

      .slider-side img:nth-child(1) {
        animation-delay: 0s;
      }

      .slider-side img:nth-child(2) {
        animation-delay: 4s;
      }

      .slider-side img:nth-child(3) {
        animation-delay: 8s;
      }

      .slider-side img:nth-child(4) {
        animation-delay: 12s;
      }

      .slider-side img:nth-child(5) {
        animation-delay: 16s;
      }

      @keyframes slide {
        0% {
          opacity: 0;
        }
        8% {
          opacity: 1;
        }
        33% {
          opacity: 1;
        }
        41% {
          opacity: 0;
        }
        100% {
          opacity: 0;
        }
      }

      .login-box {
        background: #ffffff;
        padding: 40px 30px;
        border-radius: 12px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
        width: 100%;
        max-width: 360px;
      }

      .login-box h2 {
        margin-top: 0;
        margin-bottom: 25px;
        text-align: center;
        color: #333;
      }

      form input[type="number"],
      form input[type="password"] {
        width: 100%;
        padding: 12px;
        margin-bottom: 15px;
        border: 1px solid #ccc;
        border-radius: 6px;
        font-size: 15px;
        box-sizing: border-box;
      }

      .checkbox-wrapper {
        display: flex;
        align-items: center;
        margin-bottom: 20px;
        font-size: 14px;
      }

      .checkbox-wrapper input[type="checkbox"] {
        margin-right: 10px;
      }

      form button {
        width: 100%;
        padding: 12px;
        background-color: #4285f4;
        color: white;
        border: none;
        border-radius: 6px;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.2s;
      }

      form button:hover {
        background-color: #3367d6;
      }

      .form-footer {
        display: flex;
        justify-content: space-between;
        margin-top: 15px;
        font-size: 14px;
      }

      .form-footer a {
        text-decoration: none;
        color: #4285f4;
      }

      .form-footer a:hover {
        text-decoration: underline;
      }

      ul {
        padding: 0;
        list-style: none;
        margin-bottom: 15px;
      }

      li {
        color: red;
        font-size: 14px;
        text-align: center;
      }

      .google-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        background-color: #fff;
        border: 1px solid #ddd;
        border-radius: 6px;
        padding: 10px;
        color: #444;
        font-size: 15px;
        font-weight: 500;
        text-decoration: none;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        transition: background 0.3s, box-shadow 0.3s;
        margin-top: 20px;
      }

      .google-btn img {
        height: 20px;
        width: 20px;
      }

      .google-btn:hover {
        background-color: #f8f8f8;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
      }

      @media (max-width: 768px) {
        .content-wrapper {
          flex-direction: column;
        }

        .slider-side {
          display: none;
        }

        .login-side {
          width: auto;
          height: auto;
          margin-top: 50px;
        }

        .login-box {
          padding: 30px 20px;
        }

        .logo {
          max-height: 50px;
          margin-left: -20px;
        }
      }

      #loader-overlay {
        position: fixed;
        inset: 0;
        background: black;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        color: white;
        font-family: "Montserrat", sans-serif;
        animation: fadeOut 0.5s ease-out 2.5s forwards;
      }

      .text {
        font-size: 60px;
        font-weight: 600;
        color: white;
        animation: clarity 2.5s ease-in-out both;
      }

      @keyframes clarity {
        0% {
          opacity: 0;
          filter: blur(10px);
          transform: scale(0.85);
        }
        50% {
          opacity: 0.7;
          filter: blur(4px);
        }
        100% {
          opacity: 1;
          filter: blur(0);
          transform: scale(1);
        }
      }

      @keyframes fadeOut {
        to {
          opacity: 0;
          visibility: hidden;
        }
      }
    </style>
  </head>
  <body>
    <div id="loader-overlay">
      <div class="text">MINIPLEX</div>
    </div>

    <header>
      <img
        src="{{ url_for('static', filename='images/logo3.png') }}"
        alt="Logo"
        class="logo"
      />
    </header>

    <div class="content-wrapper">
      <div class="login-side">
        <div class="login-box">
          <h2>Login</h2>
          {% with messages = get_flashed_messages() %} {% if messages %}
          <ul>
            {% for message in messages %}
            <li>{{ message }}</li>
            {% endfor %}
          </ul>
          {% endif %} {% endwith %}
          <form method="POST">
            <input
              type="number"
              name="number"
              placeholder="Enter Number"
              required
            />
            <input
              type="password"
              name="password"
              placeholder="Enter Password"
              required
            />

            {% if error %}
            <p style="color: red; font-size: 14px; margin-top: -10px; text-align: center;">
              {{ error }}
            </p>
            {% endif %}
          

            <div class="checkbox-wrapper">
              <input type="checkbox" name="agree" checked required />
              <label for="agree">I agree to the Terms and Conditions</label>
            </div>

            <button type="submit">Login</button>

            <div class="form-footer">
              <a href="/signup">Sign Up</a>
              <a href="/forgot-password">Forgot Password?</a>
            </div>

            <a href="{{ url_for('google.login') }}" class="google-btn">
              <img
                src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg"
                alt="Google Icon"
              />
              Sign in with Google
            </a>
            <br>
            <center><a href="/main" style="text-decoration: none;">Start Browsing</a></center>
          </form>
        </div>
      </div>

      <div class="slider-side">
        <img
          src="{{ url_for('static', filename='images/1.webp') }}"
          alt="Slide 1"
        />
        <img
          src="{{ url_for('static', filename='images/2.webp') }}"
          alt="Slide 2"
        />
        <img
          src="{{ url_for('static', filename='images/3.webp') }}"
          alt="Slide 3"
        />
        <img
          src="{{ url_for('static', filename='images/4.webp') }}"
          alt="Slide 4"
        />
        <img
          src="{{ url_for('static', filename='images/5.webp') }}"
          alt="Slide 5"
        />
      </div>
    </div>
  </body>
</html>

<script>
  window.addEventListener("load", () => {
    const loader = document.getElementById("loader-overlay");
    loader.style.display = "none";
  });

  // On form submit or Google button click
  document.addEventListener("DOMContentLoaded", function () {
    const form = document.querySelector("form");
    const googleBtn = document.querySelector(".google-btn");

    function showLoader() {
      const loader = document.getElementById("loader-overlay");
      loader.style.display = "flex";
    }

    if (form) {
      form.addEventListener("submit", () => {
        showLoader();
      });
    }

    if (googleBtn) {
      googleBtn.addEventListener("click", () => {
        showLoader();
      });
    }
  });
</script>
